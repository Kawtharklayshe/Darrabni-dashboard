<script setup>
import AppSelect from '@/@core/components/app-form-elements/AppSelect.vue'
import { useTrainerListStore } from "@/views/apps/trainer/TrainerListStore"
import { emailValidator, regexValidator, requiredValidator } from '@validators'
import { ref } from 'vue'

// import type { VForm } from 'vuetify/components/VForm'

const formData = ref({
  firstName: 'john',
  middleName: 'mark',
  lastName: 'doe',
  trainerId: 'sp210000',
  birthDate: '01/01/2000',
  email: 'example@gmail.com',
  phoneNumber: '0900000000',
  notes: '',
  TrainingBatch: '2',
  address: 'Homs, Syria',
  specializationSelected: 'Ù…Ù‡Ù†Ø¯Ø³ Ø§ØªØµØ§Ù„Ø§Øª',
  pathSelected: 'Front End',
  branchSelected: 'Ø§ÙŠÙ…ÙŠØ³Ø§',
})

// const firstName = ref('')
// const middleName = ref('')
// const lastName = ref('')
// const trainerId = ref('sp21')
// const birthDate = ref('')
// const email = ref('')
// const phoneNumber = ref('09')
// const notes= ref('')
// const TrainingBatch =ref('')
// const address = ref('')


const refForm = ('')


const myStore = useTrainerListStore()

const specializationSelected = ref([])
const specialization = ref(['Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠØ© ', 'Ù…Ù‡Ù†Ø¯Ø³ Ø§ØªØµØ§Ù„Ø§Øª'])
const pathSelected = ref([])
const path = ref(['Front End', 'Back End', 'Mopile Application'])
const branchSelected = ref([])
const branch = ref(['Ø§ÙŠÙ…ÙŠØ³Ø§', 'Ø§Ù„ØªØ±Ø¨ÙŠØ©', 'online'])



const onSubmit = () => {
  myStore.addTrainer(formData)
 
}
</script>

<template>
  <VForm
    ref="refForm"
    @submit.prevent="() => {}"
  >
    <VRow>
      <!-- ðŸ‘‰ First Name -->
      <VCol
        cols="12"
        md="4"
      >
        <AppTextField
          v-model="formData.firstName"
          :rules="[requiredValidator]"
          label="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ÙˆÙ„ "
        />
      </VCol>

      <!-- ðŸ‘‰ Middle Name -->
      <VCol
        cols="12"
        md="4"
      >
        <AppTextField
          v-model="formData.middleName"
          :rules="[requiredValidator]"
          label="Ø§Ø³Ù… Ø§Ù„Ø£Ø¨"
        />
      </VCol>

      <!-- ðŸ‘‰ Last Name -->
      <VCol
        cols="12"
        md="4"
      >
        <AppTextField
          v-model="formData.lastName"
          :rules="[requiredValidator]"
          label="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£Ø®ÙŠØ±"
        />
      </VCol>

      <!-- ðŸ‘‰ Trainer Id -->
      <VCol
        cols="12"
        md="6"
      >
        <AppTextField
          v-model="formData.trainerId"
          :rules="[requiredValidator, regexValidator(formData.trainerId, '^sp21\d{4}$', 'Please enter sp21 followed by 4 numbers')] "
          label="Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø¯Ø±Ø¨"
        />
      </VCol>

      
      <!-- ðŸ‘‰ Birth Date -->
      <VCol
        cols="12"
        md="6"
      >
        <AppDateTimePicker
          v-model="formData.birthDate"
          :rules="[requiredValidator]"
          label="ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ "
        />
      </VCol>

      <!-- ðŸ‘‰ Email -->
      <VCol
        cols="12"
        md="6"
      >
        <AppTextField
          v-model="formData.email"
          :rules="[requiredValidator, emailValidator]"
          persistent-placeholder
          label="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"
        />
      </VCol>

      <!-- ðŸ‘‰ Phone Number -->
      <VCol  
        cols="12"
        md="6"
      >
        <AppTextField
          v-model="formData.phoneNumber"
          :rules="[requiredValidator, regexValidator(formData.phoneNumber, '^09[0-9]{8}$', 'Please enter a syrian phone number')]"
          label="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"
        />
      </VCol>

      <VCol
        cols="12" 
        md="12" 
      >
        <AppTextField 
          v-model="formData.address" 
          :rules="[requiredValidator]"
          label="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"
        />
      </VCol>
      <VCol
        cols="12"
        md="6"
      >
        <AppSelect
          v-model="formData.specializationSelected"
          v-col
          :items="specialization"
          :rules="[requiredValidator]"
          label="Ø§Ù„Ø§Ø®ØªØµØ§Øµ"
        />
      </VCol>

      <VCol
        cols="12"
        md="6"
      >
        <AppSelect
          v-model="formData.pathSelected"
          v-col
          :items="path"
          :rules="[requiredValidator]"
          label="Ø§Ù„Ù…Ø³Ø§Ø±"
        />
      </VCol>

      <VCol
        cols="12"
        md="6"
      >
        <AppTextField
          v-model="formData.TrainingBatch"
          :rules="[requiredValidator, regexValidator(formData.TrainingBatch, '^[0-9]+$', 'Enter an approperiate Training Batch Number')]"
          label="Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©"
        />
      </VCol>

      <VCol
        cols="12"
        md="6"
      >
        <AppSelect
          v-model="formData.branchSelected"
          v-col
          :items="branch"
          :rules="[requiredValidator]"
          label="Ø§Ù„ÙØ±Ø¹"
        />
      </VCol>
      <VCol
        cols="12" 
        md="12" 
      >
        <AppTextarea 
          v-model="formData.notes"
          label="Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª"
        />
      </VCol>

      <VCol
        cols="12"
        class="d-flex gap-4"
      >
        <VBtn
          type="submit"
          @click="() => {
            refForm?.validate()
            onSubmit()
          }"
        >
          Submit
        </VBtn>

        <VBtn
          type="reset"
          color="secondary"
          variant="tonal"
        >
          Reset
        </VBtn>
      </VCol>
    </VRow>
  </VForm>
</template>
